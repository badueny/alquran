function loadApp(){function e(e){var n="0";e>0&&e<22?n="1":e>21&&e<42?n="22":e>41&&e<62?n="42":e>61&&e<82?n="62":e>81&&e<102?n="82":e>101&&e<122?n="102":e>121&&e<142?n="122":e>141&&e<162?n="142":e>161&&e<182?n="162":e>181&&e<202?n="182":e>201&&e<222?n="202":e>221&&e<242?n="222":e>241&&e<262?n="242":e>261&&e<282?n="262":e>281&&e<302?n="282":e>301&&e<322?n="302":e>321&&e<342?n="322":e>341&&e<362?n="342":e>361&&e<382?n="362":e>381&&e<401?n="382":e>400&&e<422?n="401":e>421&&e<441?n="422":e>440&&e<462?n="441":e>461&&e<482?n="462":e>481&&e<502?n="482":e>501&&e<522?n="502":e>521&&e<542?n="522":e>541&&e<562?n="542":e>561&&e<582?n="562":e>581&&(n="582"),$(".juz").val(n)}function n(e){var n="0";1==e?n="1":e>1&&e<49?n="2":e>49&&e<76?n="50":e>76&&e<106?n="77":e>105&&e<127?n="106":e>127&&e<151?n="128":e>150&&e<176?n="151":e>176&&e<186?n="177":e>186&&e<207?n="187":e>207&&e<221?n="208":e>220&&e<235?n="221":e>234&&e<248?n="235":e>248&&e<255?n="249":e>254&&e<261?n="255":e>261&&e<267?n="262":e>266&&e<281?n="267":e>281&&e<293?n="282":e>292&&e<304?n="293":e>304&&e<312?n="305":e>311&&e<321?n="312":e>321&&e<331?n="322":e>331&&e<341?n="332":e>341&&e<349?n="342":e>349&&e<359?n="350":e>358&&e<366?n="359":e>366&&e<377?n="367":e>376&&e<385?n="377":e>384&&e<396?n="385":e>395&&e<404?n="396":e>403&&e<410?n="404":e>410&&e<414?n="411":e>414&&e<417?n="415":e>417&&e<427?n="418":e>427&&e<434?n="428":e>433&&e<440?n="434":e>439&&e<445?n="440":e>445&&e<452?n="446":e>452&&e<458?n="453":e>457&&e<467?n="458":e>466&&e<476?n="467":e>476&&e<482?n="477":e>482&&e<489?n="483":e>488&&e<495?n="489":e>495&&e<498?n="496":e>498&&e<502?n="499":e>501&&e<506?n="502":e>506&&e<510?n="507":e>510&&e<515?n="511":e>514&&e<517?n="515":e>517&&e<520?n="518":e>519&&e<523?n="520":e>522&&e<525?n="523":e>525&&e<528?n="526":e>527&&e<531?n="528":e>530&&e<534?n="531":e>533&&e<537?n="534":e>536&&e<541?n="537":e>541&&e<545?n="542":e>544&&e<548?n="545":e>548&&e<551?n="549":e>550&&e<552?n="551":e>552&&e<554?n="553":e>553&&e<555?n="554":e>555&&e<557?n="556":e>557&&e<559?n="558":e>559&&e<561?n="560":e>561&&e<564?n="562":e>563&&e<566?n="564":e>565&&e<568?n="566":e>567&&e<570?n="568":e>569&&e<571?n="570":e>571&&e<573?n="572":e>573&&e<575?n="574":e>574&&e<577?n="575":e>576&&e<578?n="577":e>577&&e<580?n="578":e>579&&e<581?n="580":e>581&&e<583?n="582":e>582&&e<584?n="583":585==e?n="585":586==e?n="586":587==e?n="587":e>586&&e<589?n="587":589==e?n="589":590==e?n="590":591==e?n="591":e>590&&e<592?n="591":592==e?n="592":e>592&&e<594?n="593":594==e?n="594":595==e?n="595":e>594&&e<596?n="595":596==e?n="596":596==e?n="596":597==e?n="597":597==e?n="597":598==e?n="598":e>597&&e<599?n="598":599==e?n="599":600==e?n="600":601==e?n="601":602==e?n="602":603==e?n="603":604==e&&(n="604"),$(".surah").val(n)}$("#canvas").fadeIn(1e3);var i=$(".magazine");0!=i.width()&&0!=i.height()?(i.turn({direction:"rtl",width:922,height:745,duration:1e3,gradients:!0,autoCenter:!0,elevation:50,pages:605,when:{turning:function(i,o,t){var a=$(this);a.turn("page"),a.turn("pages");Hash.go("page/"+o).update(),o%2==0?$(".hal").val(o):$(".hal").val(parseInt(o)-1),n(o),e(o),void 0!==o&&play(),disableControls(o)},turned:function(e,n,i){disableControls(n),$(this).turn("center"),$("#slider").slider("value",getViewNumber($(this),n)),1==n&&$(this).turn("peel","br")},missing:function(e,n){for(var i=0;i<n.length;i++)addPage(n[i],$(this))}}}),$(".magazine-viewport").zoom({flipbook:$(".magazine"),max:function(){return largeMagazineWidth()/$(".magazine").width()},when:{swipeLeft:function(){$(this).zoom("flipbook").turn("next")},swipeRight:function(){$(this).zoom("flipbook").turn("previous")},resize:function(e,n,i,o){1==n?loadSmallPage(i,o):loadLargePage(i,o)},zoomIn:function(){$("#slider-bar").hide(),$(".made").hide(),$(".magazine").removeClass("animated").addClass("zoom-in"),$(".zoom-icon").removeClass("zoom-icon-in").addClass("zoom-icon-out"),window.escTip||$.isTouch||(escTip=!0,$("<div />",{class:"exit-message"}).html("<div>Press ESC to exit</div>").appendTo($("body")).delay(2e3).animate({opacity:0},500,function(){$(this).remove()}))},zoomOut:function(){$("#slider-bar").fadeIn(),$(".exit-message").hide(),$(".made").fadeIn(),$(".zoom-icon").removeClass("zoom-icon-out").addClass("zoom-icon-in"),setTimeout(function(){$(".magazine").addClass("animated").removeClass("zoom-in"),resizeViewport()},0)}}}),$.isTouch,$(".magazine-viewport").bind("zoom.doubleTap",zoomTo),$(".next").on("click",function(e){e.preventDefault(),$(".magazine").turn("next")}),$(".prev").on("click",function(e){e.preventDefault(),$(".magazine").turn("previous")}),$(".surah").on("change",function(e){e.preventDefault();var n=$(this).val();$(".hal").val(n).trigger("change")}),$(".juz").on("change",function(e){e.preventDefault();var n=$(this).val();$(".hal").val(n).trigger("change")}),$(".hal").on("change",function(e){e.preventDefault();var n=$(this).val();n>604?($(this).val("604"),$(".magazine").turn("page",604)):n%2==0?$(".magazine").turn("page",n):$(".magazine").turn("page",parseInt(n)+1)}),$(".last").on("click",function(e){e.preventDefault(),$(".magazine").turn("page",604)}),$(".first").on("click",function(e){e.preventDefault(),$(".magazine").turn("page",1),$(".surah").val("0")}),$(document).keydown(function(e){var n=39,i=37,o=27,t=38,a=40,s=87,u=83,r=68,l=65;switch(e.keyCode){case n:case r:$(".magazine").turn("previous"),e.preventDefault();break;case i:case l:$(".magazine").turn("next"),e.preventDefault();break;case o:$(".magazine-viewport").zoom("zoomOut"),e.preventDefault();break;case t:case s:$(".magazine").turn("page",604),e.preventDefault();break;case a:case u:$(".magazine").turn("page",1),e.preventDefault()}}),Hash.on("^page/([0-9]*)$",{yep:function(e,n){var i=n[1];void 0!==i&&$(".magazine").turn("is")&&$(".magazine").turn("page",i)},nop:function(e){$(".magazine").turn("is")&&$(".magazine").turn("page",1)}}),$(window).resize(function(){resizeViewport()}).bind("orientationchange",function(){resizeViewport()}),$.isTouch?$(".magazine").bind("touchstart",regionClick):$(".magazine").click(regionClick),$(".next-button").bind($.mouseEvents.over,function(){$(this).addClass("next-button-hover")}).bind($.mouseEvents.out,function(){$(this).removeClass("next-button-hover")}).bind($.mouseEvents.down,function(){$(this).addClass("next-button-down")}).bind($.mouseEvents.up,function(){$(this).removeClass("next-button-down")}).click(function(){$(".magazine").turn("next")}),$(".previous-button").bind($.mouseEvents.over,function(){$(this).addClass("previous-button-hover")}).bind($.mouseEvents.out,function(){$(this).removeClass("previous-button-hover")}).bind($.mouseEvents.down,function(){$(this).addClass("previous-button-down")}).bind($.mouseEvents.up,function(){$(this).removeClass("previous-button-down")}).click(function(){$(".magazine").turn("previous")}),$("#slider").slider({min:1,max:numberOfViews(i),start:function(e,n){window._thumbPreview?setPreview(n.value):(_thumbPreview=$("<div />",{class:"thumbnail"}).html("<div></div>"),setPreview(n.value),_thumbPreview.appendTo($(n.handle))),moveBar(!1)},slide:function(e,n){setPreview(n.value)},stop:function(){window._thumbPreview&&_thumbPreview.removeClass("show"),$(".magazine").turn("page",Math.max(1,2*$(this).slider("value")-2))}}),resizeViewport(),$(".magazine").addClass("animated")):setTimeout(loadApp,10)}function play(){var e=new Audio("pics/flip.mp3"),n=e.play();void 0!==n&&n.then(n=>{e.play()}).catch(e=>{})}function openFullscreen(){elem.requestFullscreen?elem.requestFullscreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()}function closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}yepnope({test:Modernizr.csstransforms,yep:["lib/turn.min.js"],nope:["lib/turn.html4.min.js","css/jquery.ui.html4.css"],both:["lib/zoom.min.js","css/jquery.ui.css","js/magazine.min.js?v3","css/magazine.min.css?v3"],complete:loadApp}),$(".quran-logo").show(),$(".info-key").show(),$(".pagination").show(),$(".zoom-icon").bind("mouseover",function(){$(this).hasClass("zoom-icon-in")&&$(this).addClass("zoom-icon-in-hover"),$(this).hasClass("zoom-icon-out")&&$(this).addClass("zoom-icon-out-hover")}).bind("mouseout",function(){$(this).hasClass("zoom-icon-in")&&$(this).removeClass("zoom-icon-in-hover"),$(this).hasClass("zoom-icon-out")&&$(this).removeClass("zoom-icon-out-hover")}).bind("click",function(){$(this).hasClass("zoom-icon-in")?($(this).removeClass("zoom-icon-in").addClass("zoom-icon-out"),openFullscreen()):$(this).hasClass("zoom-icon-out")&&($(this).removeClass("zoom-icon-out").addClass("zoom-icon-in"),closeFullscreen())}),$("#canvas").hide(),window.addEventListener("wheel",e=>{const n=Math.sign(e.deltaY);n>0?$(".magazine").turn("previous"):$(".magazine").turn("next")});var elem=document.documentElement;$(document).ready(function(){$(document).bind("contextmenu",function(e){return!1})});