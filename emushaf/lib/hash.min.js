(function(){"use strict";var t={},e=100,n=0,i=!1,o=null,r=null,s=function(t){return Object.freeze?Object.freeze(t):t},c=function(){return window.location.href.split("#")},l=function(){o||(o=setInterval(function(){n>0&&r!=window.location.href&&(r=window.location.href,window.Hash.check())},e))};window.Hash=s({pushState:function(t){return window.history&&window.history.pushState&&(i=t),this},fragment:function(){var t=c();return i?window.location.pathname+(t[1]?"#"+t[1]:""):t[1]||""},get:function(t,e){var n,o=[];for(n in e)Object.prototype.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.length>0&&(o="?"+o.join("&")),i?t+o:c()[0]+"#"+t+o},go:function(t,e){if(this.fragment()!=t){var n=this.get(t,e);i?window.history.pushState(null,document.title,n):window.location.href=n}return this},update:function(){return r=window.location.href,this},on:function(e,i,o){return t[e]||(t[e]={title:o,listeners:[]}),t[e].listeners.push(i),n++,l(),this},check:function(){var e,n,i,o=this.fragment();for(n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(t[n].regexp=t[n].regexp||new RegExp(n),i=t[n].regexp.exec(o))for(t[n].title&&(document.title=t[n].title),e=0;e<t[n].listeners.length;e++)t[n].listeners[e].yep&&t[n].listeners[e].yep(o,i);else for(e=0;e<t[n].listeners.length;e++)t[n].listeners[e].nop&&t[n].listeners[e].nop(o);return this}})})();